<div class="profile-container">
  <!-- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...</p>
  </div>

  <div *ngIf="!isLoading && user" class="profile-content">
    <!-- Header —Å –∞–≤–∞—Ç–∞—Ä–æ–º -->
    <div class="profile-header">
      <div class="avatar-wrapper">
        <img [src]="user.avatar" alt="avatar" class="profile-avatar">
        <div class="avatar-border"></div>
      </div>
      <div class="profile-info-header">
        <h1 class="profile-username">{{ user.username }}</h1>
        <button 
          *ngIf="!isOwnProfile()"
          class="follow-btn"
          (click)="toggleFollow()"
          [disabled]="isFollowLoading"
          [class.following]="isFollowing"
        >
          {{ isFollowing ? '‚úì –ü–æ–¥–ø–∏—Å–∫–∏' : '+ –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è' }}
        </button>
        <!-- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–∑–∂–µ -->
      </div>
    </div>

    <div class="profile-stats">
      <div class="stat-item">
        <span class="stat-number">{{ postsCount }}</span>
        <span class="stat-label">–ü–æ—Å—Ç–æ–≤</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{ followersCount }}</span>
        <span class="stat-label">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">{{ followingCount }}</span>
        <span class="stat-label">–ü–æ–¥–ø–∏—Å–æ–∫</span>
      </div>
    </div>

    <div class="profile-info">
      <div class="info-item">
        <span class="info-icon">üìß</span>
        <span class="info-text">{{ user.email }}</span>
      </div>
      <div class="info-item" *ngIf="user.bio">
        <span class="info-icon">üìù</span>
        <span class="info-text">{{ user.bio }}</span>
      </div>
    </div>

    <!-- –ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="user-posts-section" *ngIf="userPosts.length > 0">
      <h2 class="posts-section-title">–ü–æ—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
      <div class="posts-grid">
        <div 
          class="post-thumbnail" 
          *ngFor="let post of userPosts"
        >
          <img [src]="post.image" [alt]="post.description">
          <div class="post-overlay">
            <span class="post-likes">‚ù§Ô∏è {{ post.likesCount || 0 }}</span>
            <span class="post-comments">üí¨ {{ post.commentsCount || 0 }}</span>
          </div>
        </div>
      </div>
    </div>

    <div class="no-posts" *ngIf="!isLoading && userPosts.length === 0">
      <p>–£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤</p>
    </div>
  </div>

  <div *ngIf="!isLoading && !user" class="error-state">
    <p>‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω</p>
  </div>
</div>
