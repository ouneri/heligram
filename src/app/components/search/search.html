<div class="search-container">
  <div class="search-header">
    <h1 class="search-title">–ü–æ–∏—Å–∫</h1>
    <div class="search-input-wrapper">
      <input
        type="text"
        class="search-input"
        [(ngModel)]="searchQuery"
        (input)="onSearchChange()"
        placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ—Å—Ç–æ–≤..."
      />
      <span class="search-icon">üîç</span>
    </div>
  </div>

  <div class="search-tabs">
    <button
      class="tab-btn"
      [class.active]="activeTab === 'users'"
      (click)="setActiveTab('users')"
    >
      –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    </button>
    <button
      class="tab-btn"
      [class.active]="activeTab === 'posts'"
      (click)="setActiveTab('posts')"
    >
      –ü–æ—Å—Ç—ã
    </button>
  </div>

  <div class="search-results">
    <div *ngIf="isLoading" class="loading-state">
      <div class="spinner"></div>
      <p>–ü–æ–∏—Å–∫...</p>
    </div>

    <div *ngIf="!isLoading && searchQuery.trim() && activeTab === 'users'">
      <div *ngIf="users.length === 0" class="no-results">
        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
      </div>
      <div *ngIf="users.length > 0" class="users-list">
        <div
          class="user-item"
          *ngFor="let user of users; trackBy: trackByUserId"
          (click)="navigateToProfile(user.id)"
        >
          <img [src]="user.avatar" [alt]="user.username" class="user-avatar" />
          <div class="user-info">
            <div class="user-username">{{ user.username }}</div>
            <div class="user-email">{{ user.email }}</div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!isLoading && searchQuery.trim() && activeTab === 'posts'">
      <div *ngIf="posts.length === 0" class="no-results">
        <p>–ü–æ—Å—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
      </div>
      <div *ngIf="posts.length > 0" class="posts-list">
        <div
          class="post-item"
          *ngFor="let post of posts; trackBy: trackByPostId"
          (click)="navigateToPost(post.id)"
        >
          <img [src]="post.image" [alt]="post.description" class="post-image" />
          <div class="post-info">
            <div class="post-username">{{ post.username }}</div>
            <div class="post-description">{{ post.description }}</div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!isLoading && !searchQuery.trim()" class="empty-state">
      <p>–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞</p>
    </div>
  </div>
</div>
